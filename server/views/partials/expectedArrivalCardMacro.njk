{% macro expectedArrivalCardMacro(arrival, moveType, loopIndex) %}
    {% if arrival.fromLocationType === 'COURT' and not arrival.prisonNumber %}
        {% set isUnmatchedCourtArrival = true %}
    {% endif %}

    <div class='app-card__content'>
        <div class="app-card app-card--with-aside">
                <aside class="app-card__aside">
                    {% if isUnmatchedCourtArrival %}
                      <a href="/prisoner/{{ arrival.id }}/confirm-arrival" class="app-card__image" data-qa="prisoner-image-link">
                    {% endif %}
                        <img
                            {% if arrival.prisonNumber  %}
                                src= "/prisoner/{{arrival.prisonNumber}}/image"
                            {% else %}
                                src= "/assets/images/placeholder-image.png"
                            {% endif %}
                            width="90px"
                            class="app-card__image"
                            alt="Headshot of {{ arrival.lastName }}, {{ arrival.firstName }}"
                            data-qa="prisoner-image"
                        />
                    {% if isUnmatchedCourtArrival %}
                       </a>
                    {% endif %}
                </aside>
            <div class="app-card__content">
                <header class="app-card__header govuk-!-margin-bottom-4">
                    <h2 class="app-card__title" data-qa="{{moveType}}-title-{{loopIndex}}">
                        {% if isUnmatchedCourtArrival %}
                            <a href="/prisoner/{{ arrival.id }}/confirm-arrival" class="govuk-link govuk-link--no-visited-state" data-qa="prisoner-name-link"> {{ arrival.lastName }}, {{ arrival.firstName }}</a>
                        {% else %}
                            {{ arrival.lastName }}, {{ arrival.firstName }}
                        {%  endif %}
                    </h2>
                    <span class="govuk-body">{{ arrival.prisonNumber | default('No prison number found') }}</span>
                </header>
                <dl class="app-card__meta-list">
                    <div class="app-card__meta-list-item">
                        <dt class="app-card__meta-list-key">
                            Date of birth
                        </dt>
                        <dd class="app-card__meta-list-value">
                            {{ arrival.dateOfBirth | formatDate('D MMMM YYYY')}}
                        </dd>
                    </div>
                    <div class="app-card__meta-list-item">
                        <dt class="app-card__meta-list-key">
                            Arriving from
                        </dt>
                        <dd class="app-card__meta-list-value">
                            {{ arrival.fromLocation }}
                        </dd>
                    </div>
                </dl>
            </div>
        </div>
    </div>
{%  endmacro %}
