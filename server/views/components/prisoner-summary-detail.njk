{% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}

{% macro prisonerSummaryDetail(data, dataQa) %}
    {% set rows = [
        {   key:     { text: "Name", classes:"govuk-!-padding-bottom-0" },
            value:   { text: data.firstName + " " + data.lastName, classes: "govuk-!-padding-bottom-0 data-qa-" + dataQa + "-prisoner-name" },
            show:    true
        },
        {   key:     { text: "Date of birth", classes:"govuk-!-padding-bottom-0" },
            value:   { text: data.dateOfBirth | formatDate('D MMMM YYYY'), classes: "govuk-!-padding-bottom-0 data-qa-" + dataQa + "-dob" },
            show:    true
        },
        {   key:     { text: "Prison number", classes: "govuk-!-padding-bottom-0" },
            value:   { text:  data.prisonNumber,  classes: "govuk-!-padding-bottom-0 data-qa-"+ dataQa + "-prison-number" },
            show:    data.prisonNumber           
        },
        {   key:     { text: "PNC number", classes: "govuk-!-padding-bottom-0" },
            value:   { text:  data.pncNumber, classes: "govuk-!-padding-bottom-0 data-qa-" + dataQa + "-pnc-number" },
            show:    data.pncNumber
        }
    ] | selectattr("show")
    %}

    <div>
      {{ govukSummaryList({
      attributes: {'data-qa': dataQa},
      classes: "govuk-!-margin-bottom-0 govuk-summary-list--no-border",
      rows: rows
      }) }}
  </div>
{% endmacro %}
